<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Pros-Contras</title>

    <!-- Bootstrap -->
    <link th:href="@{css/bootstrap-theme.min.css}" rel="stylesheet"/>
    <link th:href="@{css/bootstrap.min.css}" rel="stylesheet"/>
    <link th:href="@{css/fileinput.css}" rel="stylesheet"/>

    <!--Font-awesome-->
    <link th:href="@{css/font-awesome.css}" rel="stylesheet"/>

</head>


<body>

<header th:include="home :: homeheader"></header>


<div id="topics" class="container col-md-6 col-md-offset-3"  style="min-height: 180px; padding-top: 100px;">

    <div class="panel panel-primary">
        <div class="panel-heading text-center">
            <h3 th:text="@{${topic.name}}"></h3>
        </div>

        <div class="panel-body">
            <div class="col-md-4 text-center">
                <img id="topic_img" th:src="@{'/image/' + ${topic.photoPath}}" style='width: 200px; height:200px; object-fit: cover' class='avatar img-thumbnail'/>
                <!--<input id="avaliacaoTotal" name="avaliacaoTotal" type="text" class="rating" value="${livro.rating}" data-size="xs"/>-->

            </div>

            <div class="col-md-8">
                <dl>
                <!--<dl class="dl-horizontal">-->
                    <dt>Nome do Tópico:</dt>
                    <dd th:text="@{${topic.name}}"></dd>
                </dl>

                <dl>
                    <dt>Inserção em: </dt>
                    <dd th:text="${#temporals.format(topic.postedDateTime, 'dd/MM/yyyy HH:mm')}"></dd>
                </dl>


                <dl class="dl">
                    <dt>Descrição:</dt>
                    <dd th:text="@{${topic.description}}"></dd>
                </dl>


                <hr/>

                <div>
                    <h5 >Opiniões suas com esse tópico</h5>
                    <ul class="list-group">

                        <!--<li data-th-each="opinions : ${userOpinions}" class="list-group-item"-->
                            <!--th:text="${#temporals.format(topic.postedDateTime, 'dd/MM/yyyy HH:mm') }">-->
                            <!--<p>tetessssss</p>-->

                        <!--</li>-->

                        <li data-th-each="opinions : ${userOpinions}" class="list-group-item container-fluid">
                            <div class="container col-md-6" th:text="${#temporals.format(topic.postedDateTime, 'dd/MM/yyyy HH:mm') }">
                            </div>
                            <!--<div class="container col-md-6 text-center" th:text="${opinions.posi}">-->
                                <!--fasfsa-->
                            <!--</div>-->
                        </li>



                    </ul>
                </div>

                <div>
                    <a th:href="@{/positioningadd(id=${topic.id})}" ><button class="btn btn-default"><span class="glyphicon glyphicon-plus-sign"></span> Adicionar em Opinião</button></a>
                </div>
            </div>
        </div>

            <div class="panel-footer">

                <h4 class="text-center">Posicionamentos</h4>
                <table class="table table-striped">
                    <!--<c:forEach var="av" items="${avaliacoesLivro}">-->
                    <!--<tr>-->
                        <!--<td>-->
                        <!--<div class="media">-->
                            <!--<div class="media-body media-right media-middle">-->
                                <!--<p class="text-right">"TALTALTA"</p>-->
                                <!--&lt;!&ndash;<input class="avUsuarios" dir="rtl" type="text" class="rating rating-loading" value="${av.rating}" data-size="xs" title=""/>&ndash;&gt;-->
                            <!--</div>-->
                            <!--<div class="media-right media-middle">-->
                                <!--&lt;!&ndash;<img src="${av.usuario.foto}" class="media-object" style="width: 30px; height:30px; object-fit: cover">&ndash;&gt;-->
                            <!--</div>-->

                        <!--</div>-->
                        <!--</td>-->
                    <!--</tr>-->
                    <!--</c:forEach>-->
                    <div class="container-fluid">
                        <div class="progress">
                            <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" th:if="${percentages.for_per != '0'}"
                                 th:attr="aria-valuenow=${percentages.for_number}" aria-valuemin="0" aria-valuemax="100" th:style="'width:'+ ${percentages.for_per}+'%;'" th:text="'A favor ('+ @{${percentages.for_number}} + '%)'"></div>
                            <div class="progress-bar progress-bar-danger progress-bar-striped" role="progressbar" th:if="${percentages.against_per != '0'}"
                                 th:attr="aria-valuenow=${percentages.against_number}" aria-valuemin="0" aria-valuemax="100" th:style="'width:'+ ${percentages.against_per}+'%;'" th:text="'Contra (' + @{${percentages.against_number}} + '%)'"></div>
                            <div class="progress-bar progress-bar-info" role="progressbar" th:if="${percentages.against_per == '0' and percentages.for_per == '0'}"
                                 aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%;" >Sem posicionamentos</div>
                        </div>
                    </div>


                </table>
            </div>


    </div>

</div>

<!--FOOTER-->


<!-- Latest compiled and minified JavaScript -->
<script src="js/jquery-3.1.0.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/fileinput.min.js"></script>
<!--<script src="dist/js/funcoesBusca.js"></script>-->

</body>

</html>
